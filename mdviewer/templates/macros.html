{% macro render_tree(tree) %}
  <ul class="nested">
  {% for item in tree %}
    {% if item.type == 'directory' %}
      <li class="toggle">
        <span class="dir-label">{{ item.name }}</span>
        <span class="dir-indicator">(+)</span>
        {{ render_tree(item.children) }}
      </li>
    {% elif item.type == 'file' %}
      <li class="file" data-path="{{ item.path }}">{{ item.name }}</li>
    {% endif %}
  {% endfor %}
  </ul>
{% endmacro %}
